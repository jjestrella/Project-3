{"ast":null,"code":"import _slicedToArray from \"c:\\\\Users\\\\kbroo\\\\Documents\\\\HomeWork\\\\Project-3\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"c:\\\\Users\\\\kbroo\\\\Documents\\\\HomeWork\\\\Project-3\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"c:\\\\Users\\\\kbroo\\\\Documents\\\\HomeWork\\\\Project-3\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"c:\\\\Users\\\\kbroo\\\\Documents\\\\HomeWork\\\\Project-3\\\\client\\\\src\\\\utils\\\\Stores\\\\User\\\\UserState.jsx\";\nimport React, { createContext, useReducer, useContext, useEffect } from \"react\";\nimport API from \"./UserAPI\";\nimport actions from \"./UserActions.json\";\nvar USER_LOADING = actions.USER_LOADING,\n    SET_USER = actions.SET_USER,\n    USER_ERROR = actions.USER_ERROR,\n    CLEAR_USER_ERROR = actions.CLEAR_USER_ERROR;\nvar UserContext = createContext();\nvar Provider = UserContext.Provider;\n\nvar reducer = function reducer(state, action) {\n  switch (action.type) {\n    case USER_LOADING:\n      return _objectSpread({}, state, {\n        loading: true\n      });\n\n    case SET_USER:\n      return _objectSpread({}, state, {\n        user: action.user,\n        loading: false,\n        pageLoading: false\n      });\n\n    case USER_ERROR:\n      return _objectSpread({}, state, {\n        error: action.message,\n        loading: false,\n        pageLoading: false\n      });\n\n    case CLEAR_USER_ERROR:\n      return _objectSpread({}, state, {\n        error: null\n      });\n\n    default:\n      return state;\n  }\n};\n\nvar UserProvider = function UserProvider(_ref) {\n  var _ref$value = _ref.value,\n      value = _ref$value === void 0 ? {} : _ref$value,\n      props = _objectWithoutProperties(_ref, [\"value\"]);\n\n  var _useReducer = useReducer(reducer, {\n    user: {},\n    pageLoading: true,\n    loading: false,\n    error: null\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  return React.createElement(Provider, Object.assign({\n    value: [state, dispatch]\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }));\n};\n\nvar useUserContext = function useUserContext() {\n  return useContext(UserContext);\n};\n\nvar refreshUser = function refreshUser() {\n  var _useUserContext = useUserContext(),\n      _useUserContext2 = _slicedToArray(_useUserContext, 2),\n      loading = _useUserContext2[0].loading,\n      userDispatch = _useUserContext2[1];\n\n  useEffect(function () {\n    if (loading) {\n      return;\n    }\n\n    userDispatch({\n      type: USER_LOADING\n    });\n    API.getUser().then(function (user) {\n      userDispatch({\n        type: SET_USER,\n        user: user\n      });\n    });\n  }, []);\n};\n\nexport { UserProvider as Provider, useUserContext as useContext, refreshUser as refreshOnLoad };","map":{"version":3,"sources":["c:/Users/kbroo/Documents/HomeWork/Project-3/client/src/utils/Stores/User/UserState.jsx"],"names":["React","createContext","useReducer","useContext","useEffect","API","actions","USER_LOADING","SET_USER","USER_ERROR","CLEAR_USER_ERROR","UserContext","Provider","reducer","state","action","type","loading","user","pageLoading","error","message","UserProvider","value","props","dispatch","useUserContext","refreshUser","userDispatch","getUser","then","refreshOnLoad"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,UAA/B,EAA2CC,UAA3C,EAAuDC,SAAvD,QAAwE,OAAxE;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,OAAP,MAAoB,oBAApB;IACQC,Y,GAAyDD,O,CAAzDC,Y;IAAcC,Q,GAA2CF,O,CAA3CE,Q;IAAUC,U,GAAiCH,O,CAAjCG,U;IAAYC,gB,GAAqBJ,O,CAArBI,gB;AAE5C,IAAMC,WAAW,GAAGV,aAAa,EAAjC;IACQW,Q,GAAaD,W,CAAbC,Q;;AAER,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,KAAD,EAAQC,MAAR,EAAmB;AAC/B,UAAQA,MAAM,CAACC,IAAf;AAEI,SAAKT,YAAL;AACI,+BACOO,KADP;AAEIG,QAAAA,OAAO,EAAE;AAFb;;AAKJ,SAAKT,QAAL;AACI,+BACOM,KADP;AAEII,QAAAA,IAAI,EAAEH,MAAM,CAACG,IAFjB;AAGID,QAAAA,OAAO,EAAE,KAHb;AAIIE,QAAAA,WAAW,EAAE;AAJjB;;AAOJ,SAAKV,UAAL;AACI,+BACOK,KADP;AAEIM,QAAAA,KAAK,EAAEL,MAAM,CAACM,OAFlB;AAGIJ,QAAAA,OAAO,EAAE,KAHb;AAIIE,QAAAA,WAAW,EAAE;AAJjB;;AAOJ,SAAKT,gBAAL;AACI,+BACOI,KADP;AAEIM,QAAAA,KAAK,EAAE;AAFX;;AAKJ;AACI,aAAON,KAAP;AA/BR;AAiCH,CAlCD;;AAoCA,IAAMQ,YAAY,GAAG,SAAfA,YAAe,OAA8B;AAAA,wBAA3BC,KAA2B;AAAA,MAA3BA,KAA2B,2BAAnB,EAAmB;AAAA,MAAZC,KAAY;;AAAA,oBACrBtB,UAAU,CAACW,OAAD,EAAU;AAC1CK,IAAAA,IAAI,EAAE,EADoC;AAE1CC,IAAAA,WAAW,EAAE,IAF6B;AAG1CF,IAAAA,OAAO,EAAE,KAHiC;AAI1CG,IAAAA,KAAK,EAAE;AAJmC,GAAV,CADW;AAAA;AAAA,MACxCN,KADwC;AAAA,MACjCW,QADiC;;AAQ/C,SAAO,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAE,CAACX,KAAD,EAAQW,QAAR;AAAjB,KAAwCD,KAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;AACH,CATD;;AAWA,IAAME,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AACzB,SAAOvB,UAAU,CAACQ,WAAD,CAAjB;AACH,CAFD;;AAIA,IAAMgB,WAAW,GAAG,SAAdA,WAAc,GAAM;AAAA,wBACcD,cAAc,EAD5B;AAAA;AAAA,MACbT,OADa,uBACbA,OADa;AAAA,MACFW,YADE;;AAEtBxB,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAIa,OAAJ,EAAa;AACT;AACH;;AACDW,IAAAA,YAAY,CAAC;AAAEZ,MAAAA,IAAI,EAAET;AAAR,KAAD,CAAZ;AACAF,IAAAA,GAAG,CAACwB,OAAJ,GAAcC,IAAd,CAAmB,UAAAZ,IAAI,EAAI;AACvBU,MAAAA,YAAY,CAAC;AAAEZ,QAAAA,IAAI,EAAER,QAAR;AAAkBU,QAAAA,IAAI,EAAJA;AAAlB,OAAD,CAAZ;AACH,KAFD;AAGH,GARQ,EAQN,EARM,CAAT;AASH,CAXD;;AAaA,SAASI,YAAY,IAAIV,QAAzB,EAAmCc,cAAc,IAAIvB,UAArD,EAAiEwB,WAAW,IAAII,aAAhF","sourcesContent":["import React, { createContext, useReducer, useContext, useEffect } from \"react\";\r\nimport API from \"./UserAPI\";\r\nimport actions from \"./UserActions.json\";\r\nconst { USER_LOADING, SET_USER, USER_ERROR, CLEAR_USER_ERROR } = actions;\r\n\r\nconst UserContext = createContext();\r\nconst { Provider } = UserContext;\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n\r\n        case USER_LOADING:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n\r\n        case SET_USER:\r\n            return {\r\n                ...state,\r\n                user: action.user,\r\n                loading: false,\r\n                pageLoading: false\r\n            };\r\n\r\n        case USER_ERROR:\r\n            return {\r\n                ...state,\r\n                error: action.message,\r\n                loading: false,\r\n                pageLoading: false\r\n            };\r\n\r\n        case CLEAR_USER_ERROR:\r\n            return {\r\n                ...state,\r\n                error: null\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst UserProvider = ({ value = {}, ...props }) => {\r\n    const [state, dispatch] = useReducer(reducer, {\r\n        user: {},\r\n        pageLoading: true,\r\n        loading: false,\r\n        error: null\r\n    });\r\n\r\n    return <Provider value={[state, dispatch]} {...props} />;\r\n};\r\n\r\nconst useUserContext = () => {\r\n    return useContext(UserContext);\r\n};\r\n\r\nconst refreshUser = () => {\r\n    const [{ loading }, userDispatch] = useUserContext();\r\n    useEffect(() => {\r\n        if (loading) {\r\n            return;\r\n        }\r\n        userDispatch({ type: USER_LOADING });\r\n        API.getUser().then(user => {\r\n            userDispatch({ type: SET_USER, user });\r\n        });\r\n    }, []);\r\n};\r\n\r\nexport { UserProvider as Provider, useUserContext as useContext, refreshUser as refreshOnLoad };\r\n"]},"metadata":{},"sourceType":"module"}